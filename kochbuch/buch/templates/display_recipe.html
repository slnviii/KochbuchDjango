{% extends 'base.html' %}
    {% block title %}{{ recipe.title }} - One Kitchen{% endblock %}


    {% block style %}
      @font-face { font-family: "OP"; src: url("../static/OP.ttf")}
        body{
            background-color: antiquewhite;
            text-align: center;
        }
    {% endblock %}
{% block content %}

<p style="font-size: 35px;font-family:Verdana">{{ recipe.title }}</p>
<li style="alignment: center;font-size: 12px;margin-top: -30px; margin-bottom: 50px">von {{ recipe.author }}</li>
<p style="margin-bottom: 60px"> <img src= "{{ recipe.image.url}}"></p>
<p style="margin-bottom: 60px"> {{ recipe.ingr }}</p>
<p> {{ recipe.instr }}</p>      <!--- einziger weg um die felder abzurufen? .label dranh채ngen f체r feldbeschreibung?--->
<form action="{% url 'add_favorite' recipe.pk %}" method="POST">
        {% csrf_token %}
        <p>
        {% if user.is_authenticated %}
          {% if added %}
            <a href = '#' ><button type="submit", name="recipe_id", value="{{ recipe.id }}", class="button buttonred">Aus Favoriten entfernen</button></a>
          {% else %}
            <a href = '#' ><button type="submit", name="recipe_id", value="{{ recipe.id }}", class="button buttonlightblue">Zu Favoriten hinzuf체gen</button></a>
          {% endif %}
        {% else %}
        <small>Login to like</small>
        {% endif %}

        - {{ total_favorites }} Favoriten</p>
    </form>
    <p>

    </p>


<ul>
<hr style="width:40%;height:4px;color:black;background-color:black">
<p style="font-size: 35px;font-family:Verdana">
Kommentare
</p>
<hr style="width:40%;height:4px;color:black;background-color:black">
{% if user.is_authenticated %}
<div style="margin-bottom:10px">
<a href="{% url 'add_comment' recipe.pk %}"><button style="font-size:18px;padding: 20px 38px;"class="buttonlightgreen button">Kommentar hinzuf체gen</button></a>
</div>
{% endif %}
    {% for comment in recipe.comments.all %}
    {% if comment.recipe == recipe %}    <!-- das recipe in comment ist kein string/name sondern das model von recipe -->
        <ul style="border:3px; border-style:solid; border-color:black; padding: 1em;">
           <strong>{{ comment.author }}</strong>  ||| {{ comment.created }}
        <hr style="width: 20%; border-style: dotted none none; border-width: 3px; border-color: mediumpurple;">
        <li style="list-style-type:none">
        {{ comment.body }}
        </li>
        </ul>
    {% endif %}
{% endfor %}

</ul>

{% endblock %}
